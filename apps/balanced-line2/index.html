<!DOCTYPE html>
<html>
<head>
	<title>JT Line Sim</title>
	<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
	<meta name="keywords" content="simulation, production line, Goldratt, The Goal"></meta>

	<style>
	.box {
		display: inline-block;
		text-align: center;
	}
	.raw-material {
		background-color: silver;
		width: 2.4em;
	}
	.store {
		background-color: white;
		border: solid thin black;
		width: 2.4em;
	}
	.op {
		background-color: #EE0;
		color: #00F;
		width: 1.4em;
		/* padding-left: 0.1em; */
		/* padding-right:0.1em; */
		border: solid thin white;
		border-radius: 0.7em;
	}
	.cash {
		background-color: #0FF;
		color: #F00;
		margin-left: 1em;
	}
	.background {
		fill: #ccc;
	}
	</style>
</head>
<body ng-app="DiceGame">
	<h4>Balanced-line simulation</h4>
	<p>
		Based loosely on the dice game described in Eli Goldratt's "The Goal", this version
		can compare a "perfect" line (no variation in processes) with the more realistic
		case of random breakdowns or delays in processes.
	</p>
	<p>
		The yellow boxes represent operations,	with the count (in blue) being the number of <i>units</i> that were processed in the current <i>tick</i>.
		The grey box is the raw material ready to be consumed by the first operation.
		The white boxes represent the number of items available to be processed.
		The actual capacity of an operation to process units may be higher than shown, but is limited by the number of available units.
	</p>
	<p>
		The cyan boxes (to the right of each line) represent cash, which starts at zero.
		The amount of cash at the end of the run is therefore the net profit for that time period.
		Each unit costs $1, incurred when that unit first enters the line.
		The line also incurrs fixed costs of $3 per tick.
		Each finished unit earns $2. The simulation runs for 400 ticks.
		If the cash (net profit) is below zero at the end of the run, the line can't pay its bills.
	</p>
	<p>
		Moving of items between operations is assumed to be instantaneous.
	</p>
	<div id="main">
		<button id="btnStep">Step</button>
		<button id="btnRunS">Run</button>
		<button id="btnRunF">Run Fast</button>
		<button id="btnStop">Stop</button>
		<span> Time: <span id="ticks">0</span> ticks</span>
		<h5>Balanced line, zero variation ("perfect")</h5>
		<p>Each operation is able to process exactly 3 units per tick.</p>
		<div class="lineDiv"></div>
		<h5>Balanced line, small random variation</h5>
		<p>Each operation is able to process from 2 to 4 units per tick, with a mean of 3.</p>
		<div class="lineDiv"></div>
		<h5>Balanced line, medium random variation</h5>
		<p>Each operation is able to process from 1 to 5 units per tick, with a mean of 3.</p>
		<div class="lineDiv"></div>
		<h5>Balanced line, large random variation</h5>
		<p>Each operation is able to process from 0 to 7 units per tick, with a mean of 3.</p>
		<div class="lineDiv"></div>
		<hr />
		<!-- <h5>Unbalanced line, random variation</h5>
		<p>First operation takes two ticks with 50% reliability. The rest take 3 ticks with 75% reliability. Each operation time should average out at 4 ticks.</p>
		<div class="lineDiv"></div>
		<hr /> -->
		<!-- <P>Prediction is that the unbalanced line will perform nearer the ideal than the balanced line, even though the average capacity of all operations is the same.</p> -->
		<P>Prediction is that higher variation will result in less throughput per time, and more WIP, even though the average capacity of all operations is the same.</p>
		<p>TODO: add an <i>unbalanced</i> line with variation, and see how it compares.</p>
	</div>
	<script>
		const BASE = {};
		BASE.getEl = (sel) => document.querySelector(sel);
		BASE.getEls = (sel) => document.querySelectorAll(sel);
	</script>
	<script src="render.js"></script>
	<script src="main.js"></script>
</body>
</html>